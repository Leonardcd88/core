<link rel="import" href="../bower_components/polymer/polymer.html">

<link rel="import" href="../dialogs/more-info-dialog.html">

<dom-module id="modal-manager">
  <template>
    <more-info-dialog id="moreInfoDialog"></more-info-dialog>
  </template>
</dom-module>

<script>
(function() {
  var uiConstants = window.hass.uiConstants,
      dispatcher = window.hass.dispatcher;

  Polymer({
    is: 'modal-manager',

    ready: function() {
      dispatcher.register(function(payload) {
        switch (payload.actionType) {
          case uiConstants.ACTION_SHOW_DIALOG_MORE_INFO:
            this.$.moreInfoDialog.show(payload.entityId);
            break;
        }
      }.bind(this));
    },
  });
})();
</script>
