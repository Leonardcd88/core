<link rel="import" href="../bower_components/polymer/polymer.html">

<script>
(function() {
  var authGetters = window.hass.authGetters;
  var streamGetters = window.hass.streamGetters;

  Polymer({
    is: 'preferences-manager',

    behaviors: [nuclearObserver],

    properties: {
      authToken: {
        type: String,
        bindNuclear: authGetters.currentAuthToken,
        observer: 'updateStorage',
      },
      useStreaming: {
        type: String,
        bindNuclear: ,
        observer: 'updateStorage',
      },
    },

    updateStorage: function() {
      if (!('localStorage' in window)) {
        return;
      }

      var storage = localStorage;

      Object.keys(this.properties).forEach(function(prop) {
        storage[prop] = this.prop;
      });
    },

  });
})();
</script>
