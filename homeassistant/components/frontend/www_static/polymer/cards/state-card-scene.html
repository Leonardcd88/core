<link rel="import" href="../bower_components/polymer/polymer.html">

<link rel="import" href="./state-card-display.html">
<link rel="import" href="./state-card-toggle.html">

<dom-module id="state-card-scene">
  <template>
    <template is='dom-if' if='[[allowToggle]]'>
      <state-card-toggle state-obj="[[stateObj]]"></state-card-toggle>
    </template>
    <template is='dom-if' if='[[!allowToggle]]'>
      <state-card-display state-obj="[[stateObj]]"></state-card-display>
    </template>
  </template>
</dom-module>

<script>
(function() {
  Polymer({
    is: 'state-card-scene',

    properties: {
      stateObj: {
        type: Object,
      },

      allowToggle: {
        type: Boolean,
        value: false,
        computed: 'computeAllowToggle(stateObj)',
      },
    },

    computeAllowToggle: function(stateObj) {
      return stateObj.state === 'off' || stateObj.attributes.active_requested;
    },
  });
})();
</script>